#!/bin/bash

if [ "$#" -ne 1 ]; then
    echo "Используйте: $0 <IPv4-адрес>"
    exit 1
fi

ip_address=$1

IFS='.' read -r -a octets <<< "$ip_address"

if [ "${#octets[@]}" -ne 4 ]; then
    echo "Некорректный формат IPv4-адреса."
    exit 1
fi

binary_octets=()

for octet in "${octets[@]}"; do
    if ! [[ "$octet" =~ ^[0-9]+$ ]] || [ "$octet" -lt 0 ] || [ "$octet" -gt 255 ]; then
        echo "Недопустимое значение октета: $octet. Октет должен быть числом от 0 до 255."
        exit 1
    fi

    binary_octet=$(printf "%08d" "$(bc <<< "obase=2;$octet")")
    binary_octets+=("$binary_octet")
done

binary_ip=$(IFS=.; echo "${binary_octets[*]}")

echo "$binary_ip"
